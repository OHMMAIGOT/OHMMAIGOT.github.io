<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏£‡πâ‡∏≤‡∏ô‡∏´‡∏°‡∏π‡∏õ‡∏¥‡πâ‡∏á</title>
<style>
  body { font-family: sans-serif; max-width: 420px; margin: auto }
  .item { display: flex; justify-content: space-between; margin: 8px 0 }
  button { padding: 4px 8px }
  input { padding: 4px; width: 100px }
</style>
</head>
<body>

<h2>üç¢ ‡∏£‡πâ‡∏≤‡∏ô‡∏´‡∏°‡∏π‡∏õ‡∏¥‡πâ‡∏á</h2>

<!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π (‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô) -->
<h3>üîê ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á)</h3>
<input id="name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π">
<input id="price" type="number" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤">
<button onclick="addItem()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π</button>

<hr>

<div id="menu"></div>

<hr>
<p>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <b><span id="total">0</span></b> ‡∏ö‡∏≤‡∏ó</p>
<button onclick="order()">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>

<script>
/* üîê ‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ */
const OWNER_PASSWORD = "414428";

const items = [];
const menu = document.getElementById("menu");
const total = document.getElementById("total");

function render() {
  menu.innerHTML = "";
  let sum = 0;

  items.forEach((item, i) => {
    sum += item.qty * item.price;

    menu.innerHTML += `
      <div class="item">
        ${item.name} (${item.price}‡∏ø)
        <div>
          <button onclick="change(${i}, -1)">-</button>
          ${item.qty}
          <button onclick="change(${i}, 1)">+</button>
        </div>
      </div>
    `;
  });

  total.textContent = sum;
}

function change(i, n) {
  items[i].qty += n;
  if (items[i].qty < 0) items[i].qty = 0;
  render();
}

function addItem() {
  const pass = prompt("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô");

  if (pass !== OWNER_PASSWORD) {
    alert("‚ùå ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
    return;
  }

  const name = document.getElementById("name").value;
  const price = Number(document.getElementById("price").value);

  if (!name || price <= 0) {
    alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å");
    return;
  }

  items.push({ name, price, qty: 0 });

  document.getElementById("name").value = "";
  document.getElementById("price").value = "";

  render();
}

function order() {
  let msg = "‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠:\n";
  items.forEach(i => {
    if (i.qty > 0) msg += `${i.name} x ${i.qty}\n`;
  });
  msg += `‡∏£‡∏ß‡∏° ${total.textContent} ‡∏ö‡∏≤‡∏ó`;
  alert(msg);
}

render();
</script>

</body>
</html>
